# **项目简报: TomatoMonkey**

### **执行摘要**

TomatoMonkey 是一个为桌面浏览器设计的 Tampermonkey 脚本，旨在通过整合番茄工作法、任务管理和网站屏蔽功能，帮助在办公或学习场景中需要高度专注的用户提升效率。该脚本将提供一个简洁易用的设置界面，所有配置数据将存储在浏览器本地。其核心价值在于通过轻量级、无干扰的方式，为用户创造一个专注的工作与学习环境。

### **问题陈述**

在数字化工作和学习环境中，用户经常面临来自网页、社交媒体和无关信息的持续干扰，导致注意力分散、工作效率低下和任务拖延。虽然市面上有许多效率工具，但它们往往是功能臃肿的独立应用或浏览器扩展，安装和配置过程复杂，反而增加了用户的负担。因此，市场需要一个轻量、集成且易于配置的解决方案，能够无缝融入用户已有的浏览器环境，以最小的认知成本帮助用户对抗干扰，保持专注。

### **提议的解决方案**

我们将开发一个名为 TomatoMonkey 的 Tampermonkey 脚本。它将番茄钟、任务列表（ToDo List）和网站白名单这三个核心功能集成在一个统一的设置面板中。为了提升用户体验，在专注页面也会提供一个快捷入口直达设置，方便用户随时调整配置。同时，系统会为首次使用的用户提供简单的引导，帮助他们快速完成初始设置。当用户启动一个番茄时钟并关联一个或多个任务后，脚本会自动屏蔽所有非白名单网站的访问，并将用户引导至一个专注页面，从而最大限度地减少干扰。任务完成后，脚本会记录所花费的番茄时间，并通过统计图表为用户提供效率反馈，形成一个从“计划-执行-反馈”的闭环，帮助用户养成专注的习惯。

### **目标用户**

**主要用户群体：**
* **学生与研究人员**：在撰写论文、在线学习或查阅资料时，需要屏蔽社交媒体和娱乐网站干扰的用户。
* **程序员与设计师**：在进行编码、设计等需要长时间深度思考的工作时，希望减少浏览器标签页切换和无关信息干扰的专业人士。
* **办公室职员**：在处理报告、邮件等日常工作时，希望通过番茄工作法来划分工作节奏、提升专注度的白领。

### **目标与成功指标**

* **项目目标**
    * **业务目标**：提供一个有效的工具，帮助用户提升至少15%的工作/学习效率。
    * **用户目标**：让用户感受到对时间的掌控力增强，减少因网络分心而产生的焦虑感。
* **成功指标**
    * **用户活跃度**：日均启动番茄时钟次数 > 3次。
    * **任务完成率**：用户通过工具完成的任务数持续增长。
    * **用户留存**：脚本安装后，30天用户留存率达到20%。
* **关键绩效指标 (KPIs)**
    * 累计完成的番茄时间总数。
    * 每周完成的任务数量。
    * 白名单网站的配置率。

### **MVP 范围**

* **核心功能 (必须包含)**
    1.  **任务列表管理**：
        * 支持添加、删除任务。
        * 用户可通过勾选框手动标记任务为“完成”或“未完成”。
        * 已完成的任务会自动移动到列表底部，并按照“完成时间”从近到远排序。
        * 已完成的任务需关联并显示其所花费的番茄统计。
    2.  **网站白名单管理**：支持用户添加、删除和编辑允许访问的网站域名，并支持通配符（例如 `*.google.com`）。
    3.  **番茄闹钟**：用户可以启动一个关联当前任务的番茄钟（默认25分钟）。计时结束后，通过浏览器 Notification API 发出系统通知。
    4.  **专注模式与网站屏蔽**：番茄钟启动后，访问任何非白名单网站都将被拦截，并自动跳转到一个显示当前任务和剩余时间的“专注页面”。该页面右上角提供一个设置按钮，允许用户快速进入设置页面（例如，临时添加白名单）。
    5.  **任务结束流程**：番茄钟结束后，用户可在专注页面手动选择“完成任务”、“放弃任务”或“继续工作N分钟”。
    6.  **统计与报告**：在设置面板中提供一个统计页面，展示今日/累计完成的任务数和番茄时间，并用图表展示最近7天的效率趋势。

* **MVP 范围之外 (后续考虑)**
    * 跨设备的数据同步（云同步）。
    * 移动端浏览器的适配。
    * 高级数据报告（例如按任务类型、按时间段的效率分析）。
    * 与其他日历或任务管理工具（如 Google Calendar, Todoist）的集成。
    * 自定义界面主题或声音。
    * 团队协作功能。

### **后 MVP 愿景**

在 MVP 成功验证核心价值后，TomatoMonkey 将向平台化工具发展。未来将探索开发独立的浏览器扩展版本，以提供更强大的功能和更佳的用户体验。引入云同步功能，满足用户在多设备间无缝切换的需求。并可能增加“目标设定”和“习惯养成”等模块，帮助用户进行更长期的自我提升管理。

### **技术考量**

* **平台**：桌面浏览器的 Tampermonkey 脚本。
* **数据存储**：使用浏览器本地存储 (`localStorage` 或 `IndexedDB`) 来保存所有用户数据（任务列表、白名单、统计数据）。任务数据中需包含“完成时间戳”字段以支持排序功能。
* **前端技术**：由于是脚本，UI 将通过原生 JavaScript 和 CSS 构建，确保轻量和高性能。统计图表可使用轻量级的图表库（如 Chart.js 的一个精简版本或手写SVG）。
* **通知**：利用浏览器原生的 Notification API 实现系统级通知。
* **兼容性**：优先适配主流桌面浏览器，如 Chrome, Firefox, Edge。

### **约束与假设**

* **约束**
    * 项目必须作为 Tampermonkey 脚本实现。
    * 所有用户数据必须存储在用户本地浏览器中，不设后端服务器。
    * 界面必须简洁，避免不必要的视觉元素干扰。
* **假设**
    * 目标用户已安装并会使用 Tampermonkey 扩展。
    * 用户主要在桌面端浏览器上进行需要专注的工作。
    * 浏览器的原生通知权限可以被用户授予。

### **风险与开放问题**

* **风险**
    * **技术风险**：Tampermonkey 脚本在拦截和重定向网页时可能存在性能瓶颈或兼容性问题，尤其是在处理动态加载内容的复杂网页时。
    * **用户体验风险**：过于严格的网站屏蔽可能会在用户需要临时访问某个非白名单网站时造成不便，导致用户放弃使用。
    * **留存风险**：用户可能因忘记或不再需要而停用脚本，需要设计机制（如数据统计的正向反馈）来激励用户持续使用。
* **开放问题**
    * 当一个番茄钟关联多个任务时，完成的时间应如何分配到每个任务的统计中？
    * 专注页面除了显示任务和时间，是否需要提供其他（不致分心的）小工具，如一个简单的笔记板？
    * 白名单的通配符逻辑需要多精确？（例如，是否支持更复杂的正则表达式？）
